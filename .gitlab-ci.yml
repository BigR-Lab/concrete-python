image: ubuntu:latest

before_script:
  - apt-get update -qq && apt-get install -y -qq python python-pip python-dev redis-server
  - which python
  - python --version
  - which redis-server
  - redis-server --version
  - pip install --upgrade setuptools tox pytest pytest-cov six
  - python setup.py install

basic_test:
  script:
    - python setup.py test

test:
  script:
    - python setup.py test --addopts '--cov=concrete/ tests redis_tests'

tox:
  script:
    - tox
